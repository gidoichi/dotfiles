- defaults:
    link:
      create: true
      relink: true

- link:
    ~/.ssh/config:
      path: ssh/config
    ~/.config/terminology/config:
      if: '[ "$(uname)" = Linux ] && [ -z "${WSL_DISTRO_NAME}" ]'
      path: terminology/config
    ~/:
      glob: true
      path: dotconf/*
      prefix: '.'

- link:
    ~/Library/Application Support/KeePassXC/keepassxc.ini:
      if: '[ "$(uname)" = Darwin ]'
    ~/.config/keepassxc/keepassxc.ini:
      if: '[ "$(uname)" = Linux ] && [ -z "${WSL_DISTRO_NAME}" ]'
  shell:
  - |
    if [ -n "${WSL_DISTRO_NAME}" ]; then
      cp keepassxc.ini "$(wslpath "$(powershell.exe -Command Write-Host '$env:APPDATA')")/KeePassXC/keepassxc.ini"
    fi

- shell:
  - |
    if [ "$(uname)" = Linux ] && [ -n "${WSL_DISTRO_NAME}" ]; then
      mkdir ~/Documents/PowerShell
      cp PowerShell/profile.ps1 ~/Documents/PowerShell/profile.ps1
    fi

- shell:
  - [git submodule update --init --recursive, Installing submodules]
